<div class="card mt-5">
    <h3 class="card-header primary-color white-text">
        Create a New Product
    </h3>

    <div class="card-body">

      <form (submit)='onSubmit($event, formData)' #formData='ngForm'>

        <div class = 'form-group row' >

          <label for = 'title'  class = 'col-sm-2 col-form-label text-right'>
            Title
          </label>

          <div class = 'col-sm-4'>
            <input
              name ='title'
              placeholder = "Enter product name"
              type = 'text'
              class ='form-control'
              required
              minlength = '4'
              #title = 'ngModel'
              [(ngModel)]='product.title'
            />
          </div>

          <div *ngIf="title.invalid && (title.dirty || title.touched)"
          class="alert alert-danger">

            <div *ngIf="title.errors.required">
                Title is required.
            </div>

            <div *ngIf="title.errors.minlength">
                Title must be at least {{ title.errors.minlength.requiredLength }} characters long.
            </div>

          </div>

        </div>

        <div class = 'form-group row' >

            <label for = 'price'  class = 'col-sm-2 col-form-label text-right'>
              Price
            </label>

            <div class = 'col-sm-4'>
              <input
                name ='price'
                placeholder = "Enter product price"
                type = 'number'
                class ='form-control'
                required
                #price = 'ngModel'
                [(ngModel)]='product.price'
              />
            </div>

            <div class = 'col-sm-6' *ngIf="price.invalid && (price.dirty || price.touched)"
                  class="alert alert-danger">

              <div *ngIf="price.errors.required">
                Price is required.
              </div>

            </div>

        </div>

        <div class = 'form-group row' >

          <label for = 'image'  class = 'col-sm-2 col-form-label text-right'>
            Image filename
          </label>

          <div class = 'col-sm-4'>
            <input
              name ='image'
              placeholder = "Enter filename for product image"
              type = 'text'
              class ='form-control'
              #image = 'ngModel'
              [(ngModel)]='product.image'
            />
          </div>

        </div>

        <p *ngIf = 'formData.invalid && formData.dirty' class = 'alert alert-danger'> You can submit after entering all required fields and fixing any errors above</p>
        <div class = 'row col-sm-6 justify-content-end'>
            <button type = 'submit' class = 'btn btn-primary' [disabled] = 'formData.invalid'>
                Create
            </button>
        </div>

      </form>
</div>

