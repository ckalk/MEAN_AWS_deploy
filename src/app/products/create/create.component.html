<div class="card-header">

      <h3>New Product</h3>

</div>

<div class="card-body">

  <!-- if errors returned, display them -->
  <div *ngIf='formErrors'>
    <ul class="alert alert-danger">
      <li *ngFor = "let e of formErrors">
        {{ e }}
      </li>
    </ul>
  </div>

  <!-- <form (submit)='onSubmit($event, formData.value)' #formData='ngForm'> -->

  <form  #formData='ngForm'>

      <div class = 'form-group row' >

        <label for = 'name'  class = 'col-sm-2 col-form-label text-right'>
          Name
        </label>

        <div class = 'col-sm-4'>
          <input
            name ='name'
            placeholder = "Enter product name"
            type = 'text'
            class ='form-control'
            required
            minlength = '3'
            #name = 'ngModel'
            [(ngModel)]='item.name'
          />
        </div>

        <div *ngIf="name.invalid && (name.dirty || name.touched)"
        class="alert alert-danger">

          <div *ngIf="name.errors.required">
              Name is required.
          </div>

          <div *ngIf="name.errors.minlength">
              Name must be at least {{ name.errors.minlength.requiredLength }} characters long.
          </div>

        </div>

      </div>


      <div class = 'form-group row' >

          <label for = 'qty'  class = 'col-sm-2 col-form-label text-right'>
            Qty
          </label>

          <div class = 'col-sm-4'>
            <input
              name ='qty'
              placeholder = "Enter product quantity"
              type = 'number'
              pattern="^[0-9]*$"
              class ='form-control'
              required
              #qty = 'ngModel'
              [(ngModel)]='item.qty'
            />
          </div>

          <div class = 'col-sm-6' *ngIf="qty.invalid && (qty.dirty || qty.touched)"
                class="alert alert-danger">

            <div *ngIf="qty.errors.required">
              Quantity is required.
            </div>

            <div *ngIf="qty.errors.pattern">
                Qty must be an integer greater than 0.
            </div>

          </div>

      </div>


      <div class = 'form-group row' >

          <label for = 'price'  class = 'col-sm-2 col-form-label text-right'>
            Price
          </label>

          <div class = 'col-sm-4'>
            <input
              name ='price'
              placeholder = "Enter product price"
              type = 'number'
              pattern="^\s*(?=.*[0-9])\d*(?:\.\d{1,2})?\s*$"
              class ='form-control'
              required
              #price = 'ngModel'
              [(ngModel)]='item.price'
            />
          </div>

          <div class = 'col-sm-6' *ngIf="price.invalid && (price.dirty || price.touched)"
                class="alert alert-danger">

            <div *ngIf="price.errors.required">
              Price is required.
            </div>

            <div *ngIf="price.errors.pattern">
                Price must be greater than 0.
            </div>

          </div>

      </div>

    </form>

    <div class = 'row col-sm-6 justify-content-end'>
      <button (click) = 'resetForm($event, formData)' class = 'btn btn-warning mr-5'>
          Reset
      </button>
      <button (click) = 'onSubmit($event, formData.value)' class = 'btn btn-success' [disabled] = 'formData.invalid'>
          Create
      </button>
    </div>

</div>

